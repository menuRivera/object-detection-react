(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t){},130:function(e,t){},177:function(e,t,n){},178:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),i=n(83),c=n.n(i),a=n(22),u=n(84),l=function(e){var t=Object(r.useState)(),n=Object(a.a)(t,2),o=n[0],i=n[1];return Object(r.useEffect)(function(){u.a.load(e).then(function(e){i(e)})},[e]),o},s=n(3),f=n.n(s),d=n(29),h=n(8),b=function(e,t){Object(r.useEffect)(function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:{ideal:4096},height:{ideal:2160}}}).then(function(n){e.current.srcObject=n,e.current.onloadedmetadata=function(){t()}})},[t,e])},p=function(e){var t=e.getContext("2d"),n=window.devicePixelRatio,r=e.width/n,o=e.height/n;return{setWidth:function(t){r=t,e.style.width=t+"px",e.width=t*n},setHeight:function(t){o=t,e.style.height=t+"px",e.height=t*n},width:r,height:o,clearAll:function(){return t.clearRect(0,0,r*n,o*n)},clearRect:function(e,r,o,i){return t.clearRect(e*n,r*n,o*n,i*n)},setFont:function(e){var r=parseInt(e,10)*n,o=e.replace(/^\d+px/,r+"px");t.font=o},setTextBaseLine:function(e){t.textBaseline=e},setStrokeStyle:function(e){t.strokeStyle=e},setLineWidth:function(e){t.lineWidth=e*n},strokeRect:function(e,r,o,i){return t.strokeRect(e*n,r*n,o*n,i*n)},setFillStyle:function(e){t.fillStyle=e},measureText:function(e){var r=t.measureText(e);return{width:r.width/n,actualBoundingBoxLeft:r.actualBoundingBoxLeft/n,actualBoundingBoxRight:r.actualBoundingBoxRight/n,actualBoundingBoxAscent:r.actualBoundingBoxAscent/n,actualBoundingBoxDescent:r.actualBoundingBoxDescent/n}},fillRect:function(e,r,o,i){return t.fillRect(e*n,r*n,o*n,i*n)},fillText:function(e,r,o){return t.fillText(e,r*n,o*n)}}},x=function(e){var t=(100*e.score).toFixed(1);return"".concat(e.label," ").concat(t,"%")},v=function(e,t){var n="".concat(16,"px 'ibm-plex-sans', Helvetica Neue, Arial, sans-serif");e.setFont(n),e.setTextBaseLine("top");var r=parseInt(n,10);t.forEach(function(t){var n=t.bbox[0],o=t.bbox[1],i=t.bbox[2],c=t.bbox[3],a=x(t);e.setStrokeStyle("#0062ff"),e.setLineWidth(4),e.strokeRect(Math.round(n),Math.round(o),Math.round(i),Math.round(c)),e.setFillStyle("#0062ff");var u=e.measureText(a).width;e.fillRect(Math.round(n-2),Math.round(o-(r+8)-6),Math.round(u+16),Math.round(r+8))}),t.forEach(function(t){var n=t.bbox[0],o=t.bbox[1],i=x(t);e.setFillStyle("#ffffff"),e.fillText(i,Math.round(n-2+8),Math.round(o-(r+8)-6+4))})};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=o.a.memo(function(e){var t=e.model,n=e.onPrediction,i=e.fit,c=e.mirrored,a=e.render,u=Object(r.useRef)(),l=Object(r.useRef)();b(u,function(){s()});var s=Object(r.useCallback)(Object(h.a)(f.a.mark(function e(){var r,o,d,h,b,x,g,y,w,O,j,B;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.detect(u.current);case 2:r=e.sent,n&&n(r),o=u.current.offsetWidth,d=u.current.offsetHeight,h=u.current.videoWidth,b=u.current.videoHeight,x=o/h,g=d/b,y="aspectFit"===i?Math.min(x,g):Math.max(x,g),w=(o-h*y)/2,O=(d-b*y)/2,(j=p(l.current)).setWidth(o),j.setHeight(d),j.clearAll(),B=r.map(function(e){var t=e.bbox[0]*y+w,n=e.bbox[1]*y+O,r=e.bbox[2]*y,i=e.bbox[3]*y;return c&&(t=o-t-r),m({},e,{bbox:[t,n,r,i]})}),(a||v)(j,B),requestAnimationFrame(function(){s()});case 21:case"end":return e.stop()}},e)})),[i,c,t,n,a]);return l.current&&(l.current.style.position="absolute",l.current.style.left="0",l.current.style.top="0"),u.current&&(u.current.style.width="100%",u.current.style.height="100%",u.current.style.objectFit="aspectFit"===i?"contain":"cover",u.current.style.transform=c?"scaleX(-1)":"scaleX(1)"),o.a.createElement("div",{style:{position:"relative"}},o.a.createElement("video",{autoPlay:!0,playsInline:!0,muted:!0,ref:u}),o.a.createElement("canvas",{ref:l}))}),w=(n(177),document.getElementById("root"));c.a.render(o.a.createElement(function(){var e=l("/model_web");return o.a.createElement("div",{className:"fillPage"},o.a.createElement(y,{model:e,fit:"aspectFill",mirrored:!0}))},null),w)},85:function(e,t,n){e.exports=n(178)},94:function(e,t){},96:function(e,t){}},[[85,1,2]]]);
//# sourceMappingURL=main.57fc3379.chunk.js.map